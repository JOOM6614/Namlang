<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>NamLang Web Editor</title>
    <style>
        body { background: #1e1e1e; color: white; font-family: sans-serif; padding: 20px; }
        textarea { width: 100%; height: 200px; background: #2d2d2d; color: #0f0; border: 1px solid #555; padding: 10px; font-family: monospace; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; cursor: pointer; margin-top: 10px; }
        #output { background: black; color: white; padding: 10px; margin-top: 20px; border-left: 5px solid #007bff; min-height: 50px; white-space: pre-wrap; }
        .canvas-area { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>ðŸš€ NamLang Web Editor</h1>
    <p>Escreve o teu cÃ³digo abaixo:</p>
    <textarea id="codigo">
nam("OlÃ¡ da NamLang!")
namresolution "300x300":
    namarredont.square "200"</textarea>
    <br>
    <button onclick="executarNam()">Rodar NamLang</button>

    <h3>Consola:</h3>
    <div id="output"></div>

    <div class="canvas-area" id="canvas-container"></div>

    <script>
        function executarNam() {
            const codigo = document.getElementById('codigo').value;
            const output = document.getElementById('output');
            const container = document.getElementById('canvas-container');
            output.innerHTML = ""; // Limpa consola
            container.innerHTML = ""; // Limpa design

            const linhas = codigo.split('\n');
            
            linhas.forEach(linha => {
                let l = linha.trim();
                
                // Comando nam()
                if (l.startsWith('nam(')) {
                    let msg = l.match(/\("(.*)"\)/)[1];
                    output.innerHTML += msg + "\n";
                }

                // Comando namresolution (Cria o Canvas)
                if (l.startsWith('namresolution')) {
                    let res = l.match(/"(.*?)"/)[1].split('x');
                    let canvas = document.createElement('canvas');
                    canvas.width = res[0];
                    canvas.height = res[1];
                    canvas.id = "meuCanvas";
                    canvas.style.border = "1px solid white";
                    container.appendChild(canvas);
                }

                // Comando namarredont.square (Desenha o quadrado)
                if (l.includes('namarredont.square')) {
                    let tam = l.match(/"(.*?)"/)[1];
                    let canvas = document.getElementById('meuCanvas');
                    if (canvas) {
                        let ctx = canvas.getContext('2d');
                        ctx.fillStyle = "blue";
                        // Desenha quadrado arredondado simples
                        ctx.beginPath();
                        ctx.roundRect(10, 10, tam, tam, 20); 
                        ctx.fill();
                    }
                }
            });
        }
    </script>
</body>
</html>
